/*
 * *****************************************************************************
 * Copyright (C) 2025 Thinline Dynamic Solutions
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>
 * ****************************************************************************
 */
/* ── Page header ─────────────────────────────────────────────── */
.kw-page-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 24px;
    flex-wrap: wrap;
    gap: 12px;

    .kw-page-title {
        display: flex;
        align-items: center;
        gap: 12px;

        > mat-icon {
            font-size: 28px;
            width: 28px;
            height: 28px;
            color: #cc0000;
            flex-shrink: 0;
        }

        h3 { margin: 0 0 2px; font-size: 16px; font-weight: 600; color: #e0e0e0; }
        .mat-caption { margin: 0; color: #999; }
    }

    button {
        font-size: 13px;
        color: #ccc;
        border-color: #444;

        mat-icon { font-size: 18px; width: 18px; height: 18px; }
        &:hover { color: #fff; border-color: #666; }
    }
}

/* ── Loading ─────────────────────────────────────────────────── */
.kw-loading {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 32px 0;
    color: #888;
    font-size: 14px;
}

/* ── Empty state ─────────────────────────────────────────────── */
.kw-empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 48px 0;
    color: #666;

    > mat-icon { font-size: 48px; width: 48px; height: 48px; opacity: 0.35; }
    .mat-body  { color: #999; margin: 0; }
    .mat-caption { color: #666; margin: 0; }
}

/* ── Cards container ─────────────────────────────────────────── */
.kw-cards {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

/* ── Individual card ─────────────────────────────────────────── */
.kw-card {
    background: #1a1a1a;
    border: 1px solid #2a2a2a;
    border-radius: 10px;
    padding: 16px 18px;
    transition: border-color 0.15s;

    &:hover:not(.kw-card--editing) { border-color: #383838; }

    &.kw-card--editing {
        border-color: #cc0000;
        background: #1c1414;
    }
}

/* ── Card display header ─────────────────────────────────────── */
.kw-card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 8px;
}

.kw-card-meta {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
}

.kw-card-name {
    font-size: 15px;
    font-weight: 600;
    color: #e0e0e0;
}

.kw-count-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: rgba(204, 0, 0, 0.15);
    color: #cc6666;
    border: 1px solid rgba(204, 0, 0, 0.25);
    border-radius: 12px;
    font-size: 11px;
    font-weight: 700;
    padding: 1px 8px;
    min-width: 28px;
    letter-spacing: 0.3px;
}

.kw-card-actions {
    display: flex;
    gap: 2px;
    flex-shrink: 0;

    button mat-icon {
        font-size: 18px;
        width: 18px;
        height: 18px;
    }
}

/* ── Description ─────────────────────────────────────────────── */
.kw-description {
    color: #777;
    font-size: 12px;
    margin: 0 0 10px;
    font-style: italic;
}

/* ── Keyword preview chips (display mode) ────────────────────── */
.kw-preview {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
    margin-top: 4px;
}

.kw-chip {
    display: inline-block;
    background: #242424;
    color: #bbb;
    border: 1px solid #333;
    border-radius: 4px;
    font-size: 11.5px;
    padding: 2px 8px;
    white-space: nowrap;

    &.kw-chip--more {
        background: transparent;
        color: #666;
        border-color: #2a2a2a;
        font-style: italic;
    }
}

.kw-none {
    color: #555;
    font-size: 12px;
    font-style: italic;
    margin: 4px 0 0;
}

/* ── Edit mode header ────────────────────────────────────────── */
.kw-edit-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 16px;
    color: #cc6666;
    font-size: 14px;
    font-weight: 600;

    mat-icon {
        font-size: 18px;
        width: 18px;
        height: 18px;
    }
}

/* ── Edit form ───────────────────────────────────────────────── */
.kw-edit-form {
    display: flex;
    flex-direction: column;
    gap: 14px;
}

.kw-edit-row {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
}

.kw-field-label { flex: 1; min-width: 200px; }
.kw-field-order { width: 100px; flex-shrink: 0; }
.kw-field-full  { width: 100%; }

/* ── Keywords edit section ───────────────────────────────────── */
.kw-edit-keywords {
    background: #141414;
    border: 1px solid #2a2a2a;
    border-radius: 8px;
    padding: 14px 16px;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.kw-keywords-toolbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 8px;
}

.kw-section-label {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    font-weight: 600;
    color: #ccc;
}

.kw-toolbar-actions {
    display: flex;
    gap: 8px;

    button {
        font-size: 12px;
        color: #999;
        border-color: #333;
        height: 34px;
        line-height: 34px;

        mat-icon { font-size: 16px; width: 16px; height: 16px; }
        &:hover { color: #ddd; border-color: #555; }
    }
}

/* ── Inline add row ──────────────────────────────────────────── */
.kw-add-row {
    display: flex;
    align-items: center;
    gap: 8px;
}

.kw-add-field {
    flex: 1;
    font-size: 13px;
}

.kw-add-btn {
    height: 40px;
    flex-shrink: 0;
    font-size: 13px;

    mat-icon { font-size: 18px; width: 18px; height: 18px; margin-right: 2px; }
}

/* ── Edit keyword chips ──────────────────────────────────────── */
.kw-edit-chips {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    max-height: 260px;
    overflow-y: auto;
    padding: 4px 0;

    // Subtle scrollbar
    &::-webkit-scrollbar { width: 4px; }
    &::-webkit-scrollbar-track { background: transparent; }
    &::-webkit-scrollbar-thumb { background: #333; border-radius: 2px; }
}

.kw-edit-chip {
    display: inline-flex;
    align-items: center;
    gap: 2px;
    background: #1e1e1e;
    border: 1px solid #333;
    border-radius: 5px;
    padding: 2px 4px 2px 9px;
    font-size: 12px;
    color: #ccc;
    transition: border-color 0.15s;

    &:hover { border-color: #555; }

    .kw-chip-text { line-height: 1; }

    .kw-remove-btn {
        width: 22px !important;
        height: 22px !important;
        line-height: 22px !important;
        padding: 0 !important;

        mat-icon {
            font-size: 14px !important;
            width: 14px !important;
            height: 14px !important;
            color: #666;
        }

        &:hover mat-icon { color: #cc4444; }
    }
}

/* ── Edit actions footer ─────────────────────────────────────── */
.kw-edit-actions {
    display: flex;
    justify-content: flex-end;
    gap: 8px;
    padding-top: 4px;
    border-top: 1px solid #2a2a2a;
    margin-top: 4px;

    button mat-icon {
        font-size: 18px;
        width: 18px;
        height: 18px;
        margin-right: 4px;
    }
}

/* ── Responsive ──────────────────────────────────────────────── */
@media (max-width: 600px) {
    .kw-edit-row { flex-direction: column; }
    .kw-field-order { width: 100%; }
    .kw-add-row { flex-wrap: wrap; }
    .kw-add-field { width: 100%; }
}
